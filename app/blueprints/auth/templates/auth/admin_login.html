<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理画面ログイン | 新潟心理療法同好会</title>
    <!-- Tailwind Play CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=DM+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'custom-bg': '#f7f8fc',
                        'custom-surface': '#ffffff',
                        'custom-surface-2': '#f2f4f9',
                        'custom-surface-3': '#e8ebf4',
                        'custom-border': '#e0e4f0',
                        'custom-border-light': '#eceef8',
                        'custom-text-primary': '#1a1d2e',
                        'custom-text-secondary': '#5a607a',
                        'custom-text-muted': '#9ba3bf',
                        'custom-accent': '#4f7c6e',
                        'custom-accent-light': '#eaf3f0',
                        'custom-accent-mid': '#c6dfd9',
                        'custom-accent-2': '#b87a52',
                        'custom-accent-2-light': '#fdf0e8',
                        'custom-wireframe-fill': '#eef0f8',
                        'custom-wireframe-img': '#dde1ef',
                        'custom-wireframe-dark': '#c8cedf',
                        'custom-annotation': '#7b6fbd',
                        'custom-annotation-bg': '#f3f1fc',
                    },
                    fontFamily: {
                        'header-sans': ['"Noto Sans JP"', 'sans-serif'],
                        'sans-jp': ['"Noto Sans JP"', 'sans-serif'],
                        'mono-dm': ['"DM Mono"', 'monospace'],
                    },
                    borderRadius: {
                        'custom': '12px',
                    },
                    boxShadow: {
                        'custom-sm': '0 2px 8px rgba(26, 29, 46, 0.06)',
                        'custom': '0 12px 40px rgba(26, 29, 46, 0.10)',
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer base {
            body {
                @apply bg-custom-surface-2 text-custom-text-primary font-sans-jp text-sm leading-relaxed min-h-screen flex flex-col;
            }
        }
        @layer components {
            .login-card {
                @apply w-full max-w-[440px] bg-custom-surface border border-custom-border rounded-[16px] p-10 md:p-12 shadow-custom relative z-10;
            }
            .login-card::before {
                content: '';
                @apply absolute top-0 left-0 right-0 h-[3px] bg-gradient-to-r from-custom-accent to-custom-accent-mid rounded-t-[16px];
            }
            .form-input {
                @apply w-full h-[46px] bg-custom-surface-2 border-[1.5px] border-custom-border rounded-lg pl-10 pr-4 text-[13px] text-custom-text-primary focus:outline-none focus:border-custom-accent focus:bg-white focus:ring-4 focus:ring-custom-accent-light transition-all;
            }
        }
    </style>
</head>

<body>
    <!-- TOP BAR -->
    <nav class="h-16 border-b border-custom-border-light bg-white flex items-center px-8 shrink-0">
        <div class="font-header-sans font-bold text-lg text-custom-text-primary tracking-tight">
            新潟心理療法同好会<span class="text-custom-accent">.</span>
        </div>
        <div
            class="ml-3 px-2 py-0.5 bg-custom-surface-2 border border-custom-border rounded text-[10px] font-bold text-custom-text-muted font-mono-dm uppercase tracking-widest">
            Admin
        </div>
    </nav>

    <!-- CONTENT -->
    <main class="flex-1 flex items-center justify-center p-6 relative overflow-hidden">
        <!-- Decoration Circle -->
        <div
            class="absolute w-[480px] h-[480px] rounded-full bg-gradient-to-r from-custom-accent-light/50 to-transparent blur-3xl -z-10 animate-pulse">
        </div>

        <div class="login-card">
            <div class="flex flex-col items-center mb-10 text-center">
                <h2 class="font-header-sans font-bold text-2xl text-custom-text-primary tracking-tight">Admin Login</h2>
                <p class="text-[11px] text-custom-text-muted font-mono-dm uppercase tracking-widest mt-1">Management
                    Portal</p>
            </div>

            {% with messages = get_flashed_messages() %}
            {% if messages %}
            {% for message in messages %}
            <div class="mb-4 p-3 rounded bg-red-100 border border-red-200 text-red-700 text-xs">
                {{ message }}
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}

            <form action="{{ url_for('auth.login') }}" method="POST" class="space-y-6">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() if csrf_token else '' }}">
                <div class="space-y-2">
                    <label
                        class="text-[11px] font-bold text-custom-text-secondary font-mono-dm uppercase tracking-widest flex items-center gap-2">
                        <span>Login ID (Email)</span>
                    </label>
                    <div class="relative group">
                        <span class="absolute left-3.5 top-1/2 -translate-y-1/2 text-custom-text-muted opacity-60">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="w-4 h-4">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                            </svg>
                        </span>
                        <input type="email" name="email" placeholder="メールアドレスを入力" class="form-input" required>
                    </div>
                </div>

                <div class="space-y-2">
                    <label
                        class="text-[11px] font-bold text-custom-text-secondary font-mono-dm uppercase tracking-widest flex items-center gap-2">
                        <span>Password</span>
                    </label>
                    <div class="relative group">
                        <span class="absolute left-3.5 top-1/2 -translate-y-1/2 text-custom-text-muted opacity-60">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="w-4 h-4">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
                            </svg>
                        </span>
                        <input type="password" name="password" id="admin-login-password" placeholder="••••••••" class="form-input pr-14" required>
                        <button type="button" id="admin-login-password-toggle" aria-label="パスワードを表示"
                            class="absolute right-3.5 top-1/2 -translate-y-1/2 text-[10px] text-custom-text-muted font-mono-dm font-bold uppercase hover:text-custom-accent transition-colors cursor-pointer">
                            SHOW
                        </button>
                    </div>
                </div>

                <div class="flex items-center justify-between">
                    <label class="flex items-center gap-2 cursor-pointer group">
                        <input type="checkbox" name="remember"
                            class="w-4 h-4 rounded border-custom-border text-custom-accent focus:ring-custom-accent-light">
                        <span
                            class="text-xs text-custom-text-secondary group-hover:text-custom-text-primary transition-colors">ログイン状態を保持する</span>
                    </label>
                </div>

                <button type="submit"
                    class="w-full h-12 bg-custom-accent text-white rounded-lg text-sm font-bold tracking-widest shadow-lg shadow-custom-accent/20 hover:bg-opacity-90 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 mt-4">
                    ログイン <span>→</span>
                </button>
            </form>
        </div>
    </main>

    <!-- FOOTER -->
    <footer
        class="h-16 border-t border-custom-border-light bg-white flex items-center justify-between px-8 text-[10px] text-custom-text-muted font-mono-dm shrink-0">
        <span>© 2026 新潟心理療法同好会</span>
        <span>ADMIN V1.0</span>
    </footer>
    <script>
        (function () {
            var btn = document.getElementById('admin-login-password-toggle');
            var input = document.getElementById('admin-login-password');
            if (btn && input) {
                btn.addEventListener('click', function () {
                    if (input.type === 'password') {
                        input.type = 'text';
                        btn.textContent = 'HIDE';
                        btn.setAttribute('aria-label', 'パスワードを隠す');
                    } else {
                        input.type = 'password';
                        btn.textContent = 'SHOW';
                        btn.setAttribute('aria-label', 'パスワードを表示');
                    }
                });
            }
        })();
    </script>
</body>

</html>